<div class="user-details-component">
  <div class="component-header">
    <div class="header-icon">ğŸ”</div>
    <h4>×¤×¨×˜×™ ××©×ª××©</h4>
  </div>

  @if (isLoading()) {
  <div class="loading-state" [class.animate-pulse]="true">
    <div class="loading-content">
      <div class="spinner"></div>
      <div class="loading-text">
        <h5>×˜×•×¢×Ÿ ×¤×¨×˜×™×...</h5>
      </div>
    </div>
  </div>
  } @if (error() && !isLoading()) {
  <div class="error-state" [class.animate-slideIn]="true">
    <div class="error-icon">âŒ</div>
    <div class="error-content">
      <h5>×©×’×™××” ×‘×˜×¢×™× ×ª ×¤×¨×˜×™ ×”××©×ª××©</h5>
      <p>{{ error().message || error() }}</p>
    </div>
  </div>
  } @if (userDetails() && !isLoading()) {
  <div class="details-display" [class.animate-fadeIn]="true">
    <div class="details-header">
      <div class="user-avatar">
        <div class="avatar-text">{{ getUserInitial() }}</div>
      </div>
      <div class="user-basic">
        <h5>{{ userDetails()!.name }}</h5>
        <p>××–×”×”: {{ userDetails()!.id }}</p>
      </div>
    </div>

    <div class="details-grid">
      <div class="detail-section contact">
        <div class="section-header">
          <div class="section-icon">ğŸ“</div>
          <h6>×¤×¨×˜×™ ×”×ª×§×©×¨×•×ª</h6>
        </div>
        <div class="detail-item">
          <span class="label">××™××™×™×œ:</span>
          <span class="value email">{{ userDetails()!.email }}</span>
        </div>
        <div class="detail-item">
          <span class="label">×˜×œ×¤×•×Ÿ:</span>
          <span class="value phone">{{ userDetails()!.phone }}</span>
        </div>
      </div>

      <div class="detail-section address">
        <div class="section-header">
          <div class="section-icon">ğŸ </div>
          <h6>×›×ª×•×‘×ª</h6>
        </div>
        <div class="detail-item">
          <span class="label">×¨×—×•×‘:</span>
          <span class="value">{{ userDetails()!.address.street }}</span>
        </div>
        <div class="detail-item">
          <span class="label">×¢×™×¨:</span>
          <span class="value">{{ userDetails()!.address.city }}</span>
        </div>
        <div class="detail-item">
          <span class="label">××™×§×•×“:</span>
          <span class="value">{{ userDetails()!.address.zipCode }}</span>
        </div>
      </div>

      <div class="detail-section account">
        <div class="section-header">
          <div class="section-icon">ğŸ‘¥</div>
          <h6>×¤×¨×˜×™ ×—×©×‘×•×Ÿ</h6>
        </div>
        <div class="detail-item">
          <span class="label">×ª××¨×™×š ×”×¦×˜×¨×¤×•×ª:</span>
          <span class="value">{{ formatDate(userDetails()!.joinDate) }}</span>
        </div>
        <div class="detail-item">
          <span class="label">×›× ×™×¡×” ××—×¨×•× ×”:</span>
          <span class="value">{{ formatDateTime(userDetails()!.lastLogin) }}</span>
        </div>
      </div>

      <div class="detail-section preferences">
        <div class="section-header">
          <div class="section-icon">âš™ï¸</div>
          <h6>×”×¢×“×¤×•×ª</h6>
        </div>
        <div class="detail-item">
          <span class="label">× ×™×•×–×œ×˜×¨:</span>
          <span class="value preference" [class.enabled]="userDetails()!.preferences.newsletter">
            {{ userDetails()!.preferences.newsletter ? 'âœ… ×›×Ÿ' : 'âŒ ×œ×' }}
          </span>
        </div>
        <div class="detail-item">
          <span class="label">×”×ª×¨××•×ª:</span>
          <span class="value preference" [class.enabled]="userDetails()!.preferences.notifications">
            {{ userDetails()!.preferences.notifications ? 'âœ… ×›×Ÿ' : 'âŒ ×œ×' }}
          </span>
        </div>
        <div class="detail-item">
          <span class="label">×¢×™×¦×•×‘:</span>
          <span class="value theme">
            {{ userDetails()!.preferences.theme === 'light' ? 'â˜€ï¸ ×‘×”×™×¨' : 'ğŸŒ™ ×›×”×”' }}
          </span>
        </div>
      </div>

      <div class="detail-section statistics highlight">
        <div class="section-header">
          <div class="section-icon">ğŸ“Š</div>
          <h6>×¡×˜×˜×™×¡×˜×™×§×•×ª</h6>
        </div>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-value">{{ userDetails()!.statistics.totalOrders }}</div>
            <div class="stat-label">×”×–×× ×•×ª</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">â‚ª{{ userDetails()!.statistics.totalSpent.toFixed(2) }}</div>
            <div class="stat-label">×¡×”"×› ×”×•×¦××•×ª</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">
              â‚ª{{ userDetails()!.statistics.averageOrderValue.toFixed(2) }}
            </div>
            <div class="stat-label">×××•×¦×¢ ×œ×”×–×× ×”</div>
          </div>
          <div class="stat-item full-width">
            <div class="stat-value">{{ userDetails()!.statistics.favoriteCategory }}</div>
            <div class="stat-label">×§×˜×’×•×¨×™×” ××•×¢×“×¤×ª</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  } @if (!selectedUserId()) {
  <div class="empty-state" [class.animate-slideIn]="true">
    <div class="empty-icon">ğŸ”</div>
    <div class="empty-content">
      <h5>×‘×—×¨ ××©×ª××© ×œ×¨××•×ª ×¤×¨×˜×™×</h5>
    </div>
  </div>
  }
</div>
